<div class="flex flex-col items-center justify-start min-h-screen px-7 py-10 mt-8">
  @if (loading) {
  <div class="flex justify-center items-center h-[50vh]">
    <mat-spinner diameter="50"></mat-spinner>
  </div>
  }
  @else if (events.length > 0) {
  <div class="flex flex-col items-center gap-10 w-full max-w-3xl">
    @for (event of events; track event.id) {

    <mat-card class="acitivity-card w-full flex flex-col items-center p-4 ">
      <div class="text-center w-full">
        <h3 class="text-xl font-semibold mb-2">{{ event.title }}</h3>
        <p class="text-sm leading-relaxed max-h-20 overflow-y-auto">
          {{ event.description }}
        </p>
      </div>

      <img [src]="event.imageUrl" alt="{{ event.title }}"
        class="w-[290px] h-[130px]  object-cover my-3 border border-black" />

      <div class="flex flex-col w-full text-sm leading-relaxed gap-2">
        <p><strong>STATUS DE L'ACTIVITE :</strong> {{ getStatusLabel(event.status) }}</p>
        <p><strong>ACITIVITE :</strong> {{ event.activityName }}</p>
        <p><strong>DATE :</strong> {{ event.eventDate | date:'mediumDate' }}</p>
        <p><strong>HORAIRE :</strong> {{ formatTime(event.startTime) }} - {{ formatTime(event.endTime) }}</p>
        <p><strong>ADRESSE :</strong> {{ event.addressLabel }}</p>
        <p><strong>NIVEAU :</strong> {{ getLevelLabel(event.level) }}</p>
        <p><strong>MATERIAL :</strong> {{ getMaterialLabel(event.material) }}</p>
        <p><strong>NOMBRE DE PARTICIPANT :</strong> {{ event.maxParticipants }}</p>
      </div>

      <mat-card-actions class="flex justify-center w-full mt-2">
        <button mat-flat-button color="primary" class="w-80 primary-button"
          [disabled]="event.status.toUpperCase() !== 'OPEN'" (click)="joinEvent(event.id)">
          P A R T I C I P E R
        </button>
      </mat-card-actions>

    </mat-card>
    }
  </div>
  }
  @else {
  <div class="flex flex-col items-center justify-center h-[50vh]">
    <p class="card-text mt-4 mb-4 ml-2 mr-2 p-8 text-center">AUCUNE ACITIVITE DISPONIBLE <br> <br> Soyez le
      premier à postuler un evenement pour cette activité</p>
  </div>
  }
</div>