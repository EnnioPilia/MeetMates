<div class="flex flex-col items-center justify-start min-h-screen px-8 py-20 overflow-y-auto">

  <mat-card-title class="title-home">
    <h2 class="text-2xl mb-4">TOUTES LES ACTIVITÉS</h2>
  </mat-card-title>

  @if (loading) {
  <div class="flex justify-center items-center h-[50vh]">
    <mat-spinner diameter="50"></mat-spinner>
  </div>
  }
  @else if (events.length > 0) {
  <div class="flex flex-col items-center gap-10 w-full max-w-3xl">
    @for (event of events; track event.id) {

    <mat-card class="w-full flex flex-col items-center p-6 shadow-md hover:shadow-xl transition-all duration-300">

      <mat-chip class="flex items-center justify-center">
        {{ getStatusLabel(event.status) }}
      </mat-chip>

      <!-- <mat-chip color="primary" selected>{{ event.activityName }}</mat-chip> -->

      <div class="text-center w-full">
        <h2 class="text-xl font-semibold text-gray-800">{{ event.title }}</h2>
        <p class="text-gray-700 text-sm leading-relaxed w-full break-words">
          {{ event.description }}
        </p>
      </div>

      <img [src]="'https://source.unsplash.com/featured/?' + event.activityName" alt="{{ event.title }}"
        class="w-full h-40 object-cover my-3" style="border: solid 1px black;" />

      <div class="text-sm text-gray-600 w-full">
        <p class="flex items-center justify-start gap-1">
          <mat-icon class="text-base">event</mat-icon>
          {{ event.eventDate | date:'mediumDate' }}
        </p>
        <p class="flex items-center justify-start gap-1">
          <mat-icon class="text-base">location_on</mat-icon>
          {{ event.addressLabel }}
        </p>
        <p class="flex items-center justify-start gap-1">
          <mat-icon class="text-base">school</mat-icon>
          Niveau : {{ getLevelLabel(event.level) }}
        </p>

        <p class="flex items-center justify-start gap-1">
          <mat-icon class="text-base">build</mat-icon>
          Matériel : {{ getMaterialLabel(event.material) }}
        </p>

        <!-- <p class="flex items-center justify-start gap-1">
          <mat-icon class="text-base">info</mat-icon>
          Statut : {{ getStatusLabel(event.status) }}
        </p> -->
      </div>

      <mat-card-actions class="flex justify-center w-full mt-2">
        <button mat-flat-button color="primary" class="w-1/2 primary-button">
          PARTICIPER
        </button>
      </mat-card-actions>

    </mat-card>
    }
  </div>
  }
  @else {
  <div class="flex flex-col items-center justify-center h-[50vh] text-gray-400">
    <p class="card-text mt-4 mb-4 ml-2 mr-2 p-3 text-center text-base">Aucune activité disponible</p>
  </div>
  }
</div>